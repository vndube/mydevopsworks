BROKER SCHEMA com.icici.xpress_connect.ecollection.mh.ci

CREATE FILTER MODULE ClientGateway_isTransAsync
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN

		 DECLARE refMsg REFERENCE TO Root.JSON.Data;
		 IF refMsg.payment_mode IN (API_PAYMENT_MODE_NEFT, API_PAYMENT_MODE_RTGS) THEN
		 	RETURN TRUE;
		 ELSEIF refMsg.payment_mode IN (API_PAYMENT_MODE_IMPS, API_PAYMENT_MODE_UPI, API_PAYMENT_MODE_FT) THEN
		 	RETURN FALSE;
		 END IF;
		RETURN FALSE;
	END;

END MODULE;
